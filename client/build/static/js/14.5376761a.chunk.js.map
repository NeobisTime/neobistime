{"version":3,"sources":["images/pages/notifications_event_default.png","images/pages/notifications_arrow_pagination.png","components/shared/page-title/index.js","components/shared/page-title/page-title.tsx","components/pages/notifications/notifications.tsx","components/pages/notifications/index.js"],"names":["module","exports","PageTitle","text","className","BlockEventNotification","props","data","startDate","Date","start","src","eventImage","alt","getHours","getMinutes","days","getDay","monthListRus","getMonth","getDate","title","description","address","place","name","to","id","withDataContainer","useState","events","setEvents","search","setSearch","period","setPeriod","currentPage","setCurrentPage","pageSize","totalProducts","setTotalProducts","portionSize","next","setNext","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","useEffect","API","getEvents","then","results","count","type","placeholder","onChange","event","target","value","options","label","e","onClick","notificationArrow","map","style","margin","filter","p","page","key","Notification"],"mappings":"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","file":"static/js/14.5376761a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/notifications_event_default.ffb18a39.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAjCAYAAAANDvOtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKaSURBVHgBtZi7ctNAFIb/XUthRk0KaGhcQIELmjQ0eRcKCjfcngVmCBlPILwHdRoXuMCFXYjCFFCkodEMUaTNOR4p4yjSXqTjv5JGq++cWZ3bSoH0+qV5qGJMjMIh3cbK4PJqhMVspjIESpLVlHo7NU/LEs9bnuW5xgUZ+QdPSbLapAn+pONZHJd4MZ2aGJ6SZLVJM8jyPHlQtO5UlyRZ96Tp86xtC0qF8ftX5hk8JMlqk6Y4SrXBH9uia43Ju6kZwyFmFQYbCVabOAzwn7JVAdbgLyhxKOYO4VA5wtKDdeTDamrrLO1IfqUxp0tbeeEkOXYZ8WTBh9WU2r2hlxOG0GVieSc31/hx8k39tawRZbU6G2AEZYGfn8/VLwx32IvV6myIkajE6sNXtZZweGSQfvyilgh1tjZyQIXcAK64yqrulO2bpRwvs6EJ7YyzNnru8iCW09nKyLgykjiWZqbA6uRc/d4Hy8vZykhyUOCIpqlHrrU8aVHSpF1ZHswqsWGnvZ3dMeS7M84sD2VpBIqCf8NJ4GqrLD3CRJIVvLO7op15zKOfZUn26Ux9hxArQk9ZBu1aPHDPIcjqtbNvqAQZSwkqOCk8jzIuFg9FPGswK8hZnvR5gOa5FN2OpqeOTtSXFVK6YupCx5YuxJ9qyUmzL5ZvU3D1d26Tc58D4RCWT7u1wndjat8sNQTO9ZFiagEPSbCivnAqNatTx+AizYr6wCmmFrMzdyJ5spbESuGh0JNCXgX/JYY7GsS656wD7p3x0qxad8LAAb8I+blWnQxEWLVupy5ue1KObltoe8Hv7ShqZ/mTdfTnYLgkq6ltGOiC4I1Uq4YRjqscAZJktTo7unu84Cxd838r9JAkq6moAeYjSDp0B4RZt7oBOtQM7e0qAMAAAAAASUVORK5CYII=\"","import PageTitle from \"./page-title.tsx\";\n\nexport default PageTitle;\n","import React from 'react'\ntype textType = {\n    text: \"string\"\n}\n\nconst PageTitle = ({ text }: textType) => {\n    return (\n        <div className='page-title'>\n            <p className=\"page-title__text\">\n                {text}\n            </p>\n        </div>\n    )\n}\n\nexport default PageTitle\n","import React, { useState, useEffect } from \"react\";\nimport PageTitle from \"../../shared/page-title\";\nimport Select from \"react-select\";\nimport address from \"../../../images/pages/address.svg\";\nimport eventImage from \"../../../images/pages/notifications_event_default.png\";\nimport notificationArrow from \"../../../images/pages/notifications_arrow_pagination.png\";\nimport Navbar from \"../../shared/navbar\";\nimport API from \"../../../API\";\nimport { Link } from \"react-router-dom\";\nimport withDataContainer from \"../../../HOC/withData\";\n\nconst BlockEventNotification = (props: any) => {\n  const { data } = props;\n  let startDate = new Date(data.start);\n  return (\n    <div className=\"notifications__content\">\n      <div className=\"notifications__content-image-wrapper\">\n        <img\n          className=\"notifications__content-image\"\n          // src={data.image || eventImage}\n          src={eventImage}\n          alt=\"event\"\n        />\n      </div>\n      <div className=\"notifications__content-block\">\n        <p className=\"notifications__content-date\">\n          {(startDate.getHours() < 10 ? \"0\" : \"\") + startDate.getHours()}.\n          {(startDate.getMinutes() < 10 ? \"0\" : \"\") + startDate.getMinutes()}{\" \"}\n          {props.days[startDate.getDay()]},{\" \"}\n          {props.monthListRus[startDate.getMonth()]} {startDate.getDate()}\n        </p>\n        <p className=\"notifications__content-title\">{data.title}</p>\n        <p className=\"notifications__content-description\">{data.description}</p>\n        <p className=\"notifications__content-address\">\n          <img\n            className=\"notifications__content-address-image\"\n            src={address}\n            alt=\"address\"\n          />\n          Адрес: {data.place.name || data.address}\n        </p>\n      </div>\n      <div className=\"notifications__content-buttons\">\n        <Link to={`/today/${data.id}`} className=\"link\">\n          <button className=\"button notifications__content-button notifications__content-button_blue\">\n            Подробнее\n          </button>\n        </Link>\n        <button className=\"button notifications__content-button notifications__content-button_cyan\">\n          Я пойду\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst Notification = (props: any) => {\n  const filters = [\n    { value: \"day\", label: \"День\" },\n    { value: \"week\", label: \"Неделя\" },\n    { value: \"month\", label: \"Месяц\" },\n    { value: \"\", label: \"Все\" },\n  ];\n  const [events, setEvents] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [period, setPeriod] = useState(\"\");\n\n  // pagination\n  const [currentPage, setCurrentPage] = useState(0);\n  const [pageSize, setPageSize] = useState(6);\n  const [totalProducts, setTotalProducts] = useState(0);\n  const [portionSize, setPortionSize] = useState(5);\n  const [next, setNext] = useState<string | null>(\"\");\n  let pagesCount = Math.ceil(totalProducts / pageSize);\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n  let portionCount = Math.ceil(pagesCount / portionSize);\n  let [portionNumber, setPortionNumber] = useState(1);\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionPageNumber = portionNumber * portionSize;\n\n  useEffect(() => {\n    API.getEvents(pageSize, currentPage * pageSize, search, period).then(\n      (data) => {\n        setEvents(data.data.results);\n        setTotalProducts(data.data.count);\n        setNext(data.data.next);\n      }\n    );\n  }, [pageSize, currentPage, search, period]);\n\n  return (\n    <div className=\"wrapper wrapper_bg_grey\">\n      <Navbar />\n      <div className=\"content__wrapper\">\n        <div className=\"notifications\">\n          <PageTitle text=\"Уведомления\" />\n          <div className=\"notifications__buttons\">\n            <input\n              className=\"notifications__buttons-search\"\n              type=\"text\"\n              name=\"search\"\n              id=\"search\"\n              placeholder=\"Искать...\"\n              onChange={(event) => {\n                setSearch(event.target.value);\n              }}\n            />\n            <Select\n              options={filters}\n              className=\"notifications__buttons-select\"\n              onChange={(e: any) => {\n                setPeriod(e.value);\n              }}\n            />\n          </div>\n\n          <section className=\"notifications__section\">\n            <div className=\"notifications__section-arrow \">\n              <img\n                onClick={() => {\n                  return currentPage > 0\n                    ? setCurrentPage(currentPage - 1)\n                    : null;\n                }}\n                className=\"rotate_180\"\n                src={notificationArrow}\n                alt=\"arrow\"\n              />\n            </div>\n            <div className=\"notifications__section-content\">\n              {events\n                ? events.map((event: any) => {\n                    return <BlockEventNotification data={event} {...props} />;\n                  })\n                : null}\n            </div>\n            <div className=\"notifications__section-arrow\">\n              <img\n                onClick={() => {\n                  return next ? setCurrentPage(currentPage + 1) : null;\n                }}\n                src={notificationArrow}\n                alt=\"arrow\"\n              />\n            </div>\n          </section>\n\n          <div\n            className=\"notifications__pagination\"\n            style={{ margin: \"0 0 40px 0\" }}\n          >\n            <div className=\"notifications__pagination-content\">\n              {portionNumber > 1 && (\n                <div\n                  onClick={() => {\n                    setPortionNumber(portionNumber - 1);\n                  }}\n                  className=\"notifications__pagination-content-arrow\"\n                >\n                  &#10094;\n                </div>\n              )}\n              {pages\n                .filter(\n                  (p) =>\n                    p >= leftPortionPageNumber && p <= rightPortionPageNumber\n                )\n                .map((page) => {\n                  return (\n                    <div\n                      key={page}\n                      onClick={() => {\n                        setCurrentPage(page - 1);\n                      }}\n                      className={\n                        page === currentPage + 1\n                          ? \"notifications__pagination-content-number number_active\"\n                          : \"notifications__pagination-content-number\"\n                      }\n                    >\n                      <p className=\"notifications__pagination-content-number-value\">\n                        {page}\n                      </p>\n                    </div>\n                  );\n                })}\n\n              {portionCount > portionNumber && (\n                <div\n                  onClick={() => {\n                    setPortionNumber(portionNumber + 1);\n                  }}\n                  className=\"notifications__pagination-content-arrow\"\n                >\n                  &#10095;\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withDataContainer(Notification);\n","import Notification from './notifications.tsx';\n\nexport default Notification;"],"sourceRoot":""}