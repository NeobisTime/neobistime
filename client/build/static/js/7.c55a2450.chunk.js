(this.webpackJsonpneobis_time=this.webpackJsonpneobis_time||[]).push([[7],{129:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.d(t,"a",(function(){return s}))},132:function(e,t,a){e.exports=a.p+"static/media/authentication.3c0df457.svg"},133:function(e,t,a){e.exports=a.p+"static/media/password_eye.66ec5002.svg"},177:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t);var r=a(12),n=a.n(r),s=a(17),c=a(129),o=a(3),i=a(1),l=a.n(i),u=a(132),m=a.n(u),_=(a(177),a(4)),p=a(133),b=a.n(p),h=a(6),f=a(35),d=function(e){var t=Object(i.useState)(""),a=Object(o.a)(t,2),r=a[0],u=a[1],p=Object(i.useState)(""),d=Object(o.a)(p,2),O=d[0],g=d[1],E=Object(i.useState)(!0),j=Object(o.a)(E,2),y=j[0],v=j[1],w=Object(i.useState)({emailError:""}),N=Object(o.a)(w,2),x=N[0],S=N[1],k=function(){var e={emailError:""};return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(r)?S(Object(c.a)({},e,{emailError:""})):S(Object(c.a)({},e,{emailError:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 email"})),e},P=Object(i.useState)("success"),D=Object(o.a)(P,2),A=D[0],C=D[1],q=Object(i.useState)(""),F=Object(o.a)(q,2),T=F[0],Z=F[1],I=Object(i.useState)(!1),J=Object(o.a)(I,2),R=J[0],B=J[1],L=function(e){e.status>=200&&e.status<=299?(C("success"),Z("\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0447\u0442\u0443")):(C("error"),Z(e.response||"\u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")),B(!0),setTimeout((function(){B(!1)}),3e3)};function X(){return(X=Object(s.a)(n.a.mark((function t(a){var s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s={email:r,password:O},k(),t.next=5,h.a.postAuthData(s).then((function(t){L(t);var a={token:Object(h.b)("XSRF-Token")||""};h.a.getRole(a).then((function(t){t.data.is_staff?(document.cookie="role =admin",localStorage.setItem("role","admin"),e.history.push("/"),window.location.reload(!0)):(document.cookie="role =user",localStorage.setItem("role","user"),e.history.push("/"),window.location.reload(!0))}))})).catch((function(e){L(e.request)}));case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return l.a.createElement("div",{className:"auth"},l.a.createElement("div",{className:"auth__content"},l.a.createElement("div",{className:"auth__title"},l.a.createElement("p",{className:"auth__title-text"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 Neobis Time"),l.a.createElement("p",{className:"auth__title-description"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")),l.a.createElement("section",{className:"auth__section"},l.a.createElement("form",{className:"auth__form",onSubmit:function(e){return X.apply(this,arguments)}},l.a.createElement("label",{className:"auth__label",htmlFor:"email"},"E-mail"),l.a.createElement("input",{className:"auth__input",type:"text",name:"email",required:!0,value:r,onChange:function(e){u(e.target.value),k()},onBlur:k}),x&&l.a.createElement("div",{className:"error__span"},x.emailError),l.a.createElement("label",{className:"auth__label",htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),l.a.createElement("div",{className:"registration__password",style:{height:"43px"}},l.a.createElement("input",{className:"registration__password-input",type:y?"password":"text",minLength:8,name:"password",required:!0,value:O,onChange:function(e){g(e.target.value)}}),l.a.createElement("img",{onClick:function(){v(!y)},src:b.a,alt:"eye",className:"registration__password-image"})),l.a.createElement("div",{className:"auth__text_position"},l.a.createElement("span",{className:"auth__text_small_grey"},"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"),l.a.createElement(_.b,{to:"/recovery_password"},l.a.createElement("span",{className:"auth__text_small_green"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"))),l.a.createElement("div",{className:"auth__text_position auth__text_position_last"},l.a.createElement("button",{className:"auth__submit",type:"submit"},"\u0412\u043e\u0439\u0442\u0438"),l.a.createElement("span",{className:"auth__text_small_grey auth__text_small_grey_last"},"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"),l.a.createElement(_.b,{to:"/registration"},l.a.createElement("span",{className:"auth__text_small_green auth__text_small_green_last"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))),l.a.createElement("section",{className:"auth__section"},l.a.createElement("img",{src:m.a,className:"auth__image",alt:"girl introducin login"})),R&&l.a.createElement(f.a,{type:A,text:T,onClose:function(){B(!R)}})))};t.default=d}}]);
//# sourceMappingURL=7.c55a2450.chunk.js.map