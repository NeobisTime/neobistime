{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","images/pages/authentication.svg","images/pages/password_eye.svg","components/pages/registration/registration.tsx","images/pages/forgot_password_gi2d.svg","components/pages/change-personal-data/change-personal-data.tsx","components/pages/change-personal-data/index.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","module","exports","Input","minLength","type","name","setValue","title","className","required","onChange","e","withDataContainer","props","useState","setName","email","setEmail","phone","setPhone","department","setDepartment","password1","setPassword1","hidden1","setHidden1","password2","setPassword2","hidden2","setHidden2","alertType","setAlertType","alertText","setAlertText","isAlertOpen","setIsAlertOpen","openAlert","response","status","setTimeout","useEffect","setPasswordErrors","passwordErrors","passwordSimilarity","emailError","errors","setErrors","numberError","telErrors","setTelErrors","validate","test","isNaN","Number","event","a","preventDefault","data","name_surname","department_id","API","postRegistrationData","then","catch","error","request","onSubmit","htmlFor","onBlur","options","departments","onClick","src","eye","alt","designPhoto","text","onClose","withRouter","image","setImage","getUserInfo","requestData","console","log","timeOut","formData","FormData","append","patchUserInfo","history","files","style","width","margin","ChangePassword"],"mappings":"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","file":"static/js/8.d10d7040.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","module.exports = __webpack_public_path__ + \"static/media/authentication.3c0df457.svg\";","module.exports = __webpack_public_path__ + \"static/media/password_eye.66ec5002.svg\";","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"react-select\";\r\nimport Alert from \"../../shared/alert\";\r\n\r\n// image\r\nimport designPhoto from \"../../../images/pages/authentication.svg\";\r\nimport eye from \"../../../images/pages/password_eye.svg\";\r\nimport withDataContainer from \"../../../HOC/withData\";\r\nimport API from \"../../../API\";\r\n\r\nexport const Input = ({\r\n  minLength = +0,\r\n  type,\r\n  name,\r\n  value,\r\n  setValue,\r\n  title,\r\n}: any) => {\r\n  return (\r\n    <input\r\n      title={title}\r\n      className=\"registration__input\"\r\n      required\r\n      minLength={minLength}\r\n      type={type}\r\n      name={name}\r\n      value={value}\r\n      onChange={(e) => {\r\n        setValue(e.target.value);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst Registration = (props: any) => {\r\n  const [name, setName] = useState<string>(\"\");\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [phone, setPhone] = useState<string>(\"\");\r\n  const [department, setDepartment] = useState<string>(\"\");\r\n  // password values\r\n  const [password1, setPassword1] = useState<string>(\"\");\r\n  const [hidden1, setHidden1] = useState<boolean>(true);\r\n  const [password2, setPassword2] = useState<string>(\"\");\r\n  const [hidden2, setHidden2] = useState<boolean>(true);\r\n\r\n  const handleChangeEmail = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setEmail(event.target.value);\r\n    validate();\r\n  };\r\n\r\n  const [alertType, setAlertType] = useState(\"success\");\r\n  const [alertText, setAlertText] = useState(\"\");\r\n  let [isAlertOpen, setIsAlertOpen] = useState<boolean>(false);\r\n  const toggleAlertOpen = () => {\r\n    setIsAlertOpen(!isAlertOpen);\r\n  };\r\n  const openAlert = (response: any) => {\r\n    if (response.status >= 200 && response.status <= 299) {\r\n      setAlertType(\"success\");\r\n      setAlertText(\"Проверьте почту\");\r\n    } else {\r\n      setAlertType(\"error\");\r\n      setAlertText(response.response || 'непредвиденная ошибка');\r\n    }\r\n    setIsAlertOpen(true);\r\n    setTimeout(()=>{\r\n      setIsAlertOpen(false);\r\n    },3000)\r\n  };\r\n\r\n  useEffect(() => {\r\n    validatePassword();\r\n  }, [password1, password2]);\r\n\r\n  const handleChangePassword2 = (\r\n    event: React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    setPassword2(event.target.value);\r\n    validate();\r\n  };\r\n\r\n  const handleChangeTel = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPhone(event.target.value);\r\n    validate();\r\n  };\r\n\r\n  // validation\r\n  const [errors, setErrors] = useState({\r\n    emailError: \"\",\r\n  });\r\n  const [passwordErrors, setPasswordErrors] = useState({\r\n    passwordSimilarity: \"\",\r\n  });\r\n  const [telErrors, setTelErrors] = useState({\r\n    numberError: \"\",\r\n  });\r\n  const validate = () => {\r\n    if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email)) {\r\n      setErrors({ ...errors, emailError: \"Неправильный email\" });\r\n    } else {\r\n      setErrors({ ...errors, emailError: \"\" });\r\n    }\r\n    if (isNaN(Number(phone))) {\r\n      setTelErrors({ ...telErrors, numberError: \"Только цифры\" });\r\n    } else {\r\n      setTelErrors({ ...telErrors, numberError: \"\" });\r\n    }\r\n  };\r\n  function validatePassword() {\r\n    if (password1 !== password2) {\r\n      setPasswordErrors({\r\n        ...passwordErrors,\r\n        passwordSimilarity: \"Пароли не совпадают\",\r\n      });\r\n    } else {\r\n      setPasswordErrors({ ...passwordErrors, passwordSimilarity: \"\" });\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(event: any) {\r\n    event.preventDefault();\r\n    validate();\r\n\r\n    const data = {\r\n      name_surname: name,\r\n      email,\r\n      password1,\r\n      password2,\r\n      phone,\r\n      department_id: department,\r\n    };\r\n    API.postRegistrationData(data)\r\n      .then((response) => {\r\n        openAlert(response);\r\n      })\r\n      .catch((error) => {\r\n        openAlert(error.request);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"registration auth\">\r\n        <div className=\"registration__content\">\r\n          <div className=\"auth__title\">\r\n            <p className=\"auth__title-text\">Добро пожаловать в Neobis Time</p>\r\n          </div>\r\n\r\n          <section className=\"registration__section registration__section_w_40 \">\r\n            <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n              <label className=\"registration__label\" htmlFor=\"name\">\r\n                ФИО\r\n              </label>\r\n              <Input type=\"text\" name=\"name\" value={name} setValue={setName} />\r\n\r\n              <label className=\"registration__label\" htmlFor=\"email\">\r\n                E-mail\r\n              </label>\r\n              <input\r\n                className=\"registration__input\"\r\n                type=\"text\"\r\n                name=\"email\"\r\n                required\r\n                value={email}\r\n                onChange={handleChangeEmail}\r\n                onBlur={validate}\r\n              />\r\n              {errors && <div className=\"error__span\">{errors.emailError}</div>}\r\n\r\n              <label className=\"registration__label\" htmlFor=\"department\">\r\n                Департамент\r\n              </label>\r\n              <Select\r\n                options={props.departments}\r\n                className=\"registration__select\"\r\n                required\r\n                onChange={(e: any) => {\r\n                  setDepartment(e.value);\r\n                }}\r\n              />\r\n\r\n              <label className=\"registration__label\" htmlFor=\"password\">\r\n                Пароль\r\n              </label>\r\n              <div className=\"registration__password\">\r\n                <input\r\n                  className=\"registration__password-input\"\r\n                  type={hidden1 ? \"password\" : \"text\"}\r\n                  minLength={8}\r\n                  name=\"password1\"\r\n                  required\r\n                  value={password1}\r\n                  onChange={(e) => {\r\n                    setPassword1(e.target.value);\r\n                  }}\r\n                />\r\n                <img\r\n                  onClick={() => {\r\n                    setHidden1(!hidden1);\r\n                  }}\r\n                  src={eye}\r\n                  alt=\"eye\"\r\n                  className=\"registration__password-image\"\r\n                />\r\n              </div>\r\n\r\n              <label className=\"registration__label\" htmlFor=\"email\">\r\n                Повторите пароль\r\n              </label>\r\n              <div className=\"registration__password\">\r\n                <input\r\n                  minLength={8}\r\n                  className=\"registration__password-input\"\r\n                  type={hidden2 ? \"password\" : \"text\"}\r\n                  name=\"password2\"\r\n                  required\r\n                  value={password2}\r\n                  onChange={handleChangePassword2}\r\n                />\r\n                <img\r\n                  onClick={() => {\r\n                    setHidden2(!hidden2);\r\n                  }}\r\n                  src={eye}\r\n                  alt=\"eye\"\r\n                  className=\"registration__password-image\"\r\n                />\r\n              </div>\r\n              {passwordErrors && (\r\n                <div className=\"error__span\">\r\n                  {passwordErrors.passwordSimilarity}\r\n                </div>\r\n              )}\r\n\r\n              <label className=\"registration__label\" htmlFor=\"phone\">\r\n                Телефон\r\n              </label>\r\n              <input\r\n                className=\"registration__input\"\r\n                type=\"tel\"\r\n                minLength={6}\r\n                name=\"phone\"\r\n                required\r\n                value={phone}\r\n                onChange={handleChangeTel}\r\n              />\r\n              {telErrors && (\r\n                <div className=\"error__span\">{telErrors.numberError}</div>\r\n              )}\r\n\r\n              <button className=\"registration__submit\" type=\"submit\">\r\n                Зарегистрироваться\r\n              </button>\r\n            </form>\r\n          </section>\r\n          <section className=\"registration__section registration__section_w_60\">\r\n            <img\r\n              src={designPhoto}\r\n              className=\"registration__image\"\r\n              alt=\"girl introducin login\"\r\n            />\r\n          </section>\r\n          {isAlertOpen && (\r\n            <Alert\r\n              type={alertType}\r\n              text={alertText}\r\n              onClose={toggleAlertOpen}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withDataContainer(Registration);\r\n","module.exports = __webpack_public_path__ + \"static/media/forgot_password_gi2d.24021047.svg\";","import React, { useState, useEffect } from \"react\";\r\nimport designPhoto from \"../../../images/pages/forgot_password_gi2d.svg\";\r\nimport { Input } from \"../registration/registration\";\r\nimport withDataContainer from \"../../../HOC/withData\";\r\nimport API from \"../../../API\";\r\nimport Alert from \"../../shared/alert\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Spinner from \"../../shared/spinner/spinner\";\r\n\r\nconst ChangePersonalData = (props: any) => {\r\n  const [name, setName] = useState<string>(\"\");\r\n  const [phone, setPhone] = useState<string>(\"\");\r\n  const [image, setImage] = useState<any>([]);\r\n\r\n  const handleChangeTel = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPhone(event.target.value);\r\n    validate();\r\n  };\r\n  // validation\r\n  const [telErrors, setTelErrors] = useState({\r\n    numberError: \"\",\r\n  });\r\n  const validate = () => {\r\n    const errors = {};\r\n    if (isNaN(Number(phone))) {\r\n      setTelErrors({ ...errors, numberError: \"Только цифры\" });\r\n    } else {\r\n      setTelErrors({ ...errors, numberError: \"\" });\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  useEffect(() => {\r\n    API.getUserInfo().then((data) => {\r\n      let requestData = data.data;\r\n      console.log(\"requestData\", requestData);\r\n      setName(requestData.name_surname);\r\n      setPhone(requestData.phone);\r\n    });\r\n  }, []);\r\n\r\n  const [alertType, setAlertType] = useState(\"success\");\r\n  const [alertText, setAlertText] = useState(\"\");\r\n  let [isAlertOpen, setIsAlertOpen] = useState<boolean>(false);\r\n  const toggleAlertOpen = () => {\r\n    setIsAlertOpen(!isAlertOpen);\r\n  };\r\n  const openAlert = (response: any) => {\r\n    if (response.status >= 200 && response.status <= 299) {\r\n      setAlertType(\"success\");\r\n      setAlertText(\"Все прошло без ошибок\");\r\n    } else {\r\n      setAlertType(\"error\");\r\n      setAlertText(response.response || \"непредвиденная ошибка\");\r\n    }\r\n    setIsAlertOpen(true);\r\n    setTimeout(() => {\r\n      setIsAlertOpen(false);\r\n    }, 5000);\r\n  };\r\n\r\n  const handleSubmit = (event: any) => {\r\n    event.preventDefault();\r\n    validate();\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"name_surname\", name);\r\n    formData.append(\"phone\", phone);\r\n    if (image[0]) {\r\n      formData.append(\"profile_img\", image[0]);\r\n    }\r\n    API.patchUserInfo(formData)\r\n      .then((response) => {\r\n        openAlert(response);\r\n        props.history.push(\"/personal_office\");\r\n      })\r\n      .catch((error) => {\r\n        openAlert(error.request);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <Spinner timeOut={600} />\r\n    <div className=\"registration auth\">\r\n      <div className=\"registration__content\">\r\n        <div className=\"auth__title\">\r\n          <p className=\"auth__title-text\">Измените ваши данные</p>\r\n        </div>\r\n\r\n        <section className=\"registration__section registration__section_w_40 \">\r\n          <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n            <label className=\"registration__label\" htmlFor=\"name\">\r\n              ФИО\r\n            </label>\r\n            <Input type=\"text\" name=\"name\" value={name} setValue={setName} />\r\n            <label className=\"registration__label\" htmlFor=\"department\">\r\n              Фото\r\n            </label>\r\n            <div className=\"registration__input\">\r\n              <label className=\"custom-file-upload\">\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"image\"\r\n                  className=\"custom-file-input\"\r\n                  onChange={(e) => {\r\n                    setImage(e.target.files);\r\n                  }}\r\n                />\r\n                {image[0] ? image[0].name : \"Загрузите фото\"}\r\n              </label>\r\n            </div>\r\n            <label className=\"registration__label\" htmlFor=\"phone\">\r\n              Телефон\r\n            </label>\r\n            <input\r\n              className=\"registration__input\"\r\n              type=\"tel\"\r\n              minLength={6}\r\n              name=\"phone\"\r\n              required\r\n              value={phone}\r\n              onChange={handleChangeTel}\r\n            />\r\n            {telErrors && (\r\n              <div className=\"error__span\">{telErrors.numberError}</div>\r\n            )}\r\n            <button\r\n              style={{ width: \"60%\", margin: \"30px auto 0\" }}\r\n              className=\"registration__submit\"\r\n              type=\"submit\"\r\n            >\r\n              Сохранить\r\n            </button>\r\n          </form>\r\n        </section>\r\n        <section className=\"registration__section registration__section_w_60\">\r\n          <img\r\n            src={designPhoto}\r\n            className=\"registration__image\"\r\n            alt=\"girl introducin login\"\r\n          />\r\n        </section>\r\n        {isAlertOpen && (\r\n          <Alert type={alertType} text={alertText} onClose={toggleAlertOpen} />\r\n        )}\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withDataContainer(withRouter(ChangePersonalData));\r\n","import ChangePassword from \"./change-personal-data.tsx\";\r\n\r\nexport default ChangePassword;\r\n"],"sourceRoot":""}