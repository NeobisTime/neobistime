(this.webpackJsonpneobis_time=this.webpackJsonpneobis_time||[]).push([[16],{179:function(e,t,a){e.exports=a.p+"static/media/event-info-default.8b7e2246.png"},303:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(1),s=a.n(c),o=a(179),i=a.n(o),l=a(35),m=a.n(l),r=a(34),d=a(6),_=a(5),f=a(16),u=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","C\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"];t.default=Object(r.a)(Object(f.a)(Object(d.f)((function(e){var t=e.match.params.id,a=Object(c.useState)({}),o=Object(n.a)(a,2),l=o[0],r=o[1],d=Object(c.useState)(0),f=Object(n.a)(d,2),v=f[0],b=f[1],p=Object(c.useState)({}),g=Object(n.a)(p,2),E=g[0],h=g[1],j=Object(c.useState)(!1),N=Object(n.a)(j,2),O=N[0],k=N[1],x=Object(c.useState)(!1),w=Object(n.a)(x,2),S=w[0],D=w[1],M=Object(c.useState)(!1),y=Object(n.a)(M,2),C=y[0],P=y[1],H=Object(c.useState)(""),J=Object(n.a)(H,2),T=J[0],F=J[1],I=Object(c.useState)(!1),L=Object(n.a)(I,2),R=L[0],q=L[1],z=new Date(l.start),A=new Date(l.deadline),B=new Date;Object(c.useEffect)((function(){_.a.getEventInfo(t).then((function(e){r(e.data),h(e.data.place),_.a.getMyPoll().then((function(t){if(t.data){var a;(a=t.data.filter((function(t){return t.event===e.data.title})))[0]&&(a[0].answer?k(!0):D(!0),F(a[0].rejection_reason),b(a[0].id))}}));var t=new Date(e.data.deadline);+B.getTime()>+t.getTime()?q(!0):q(!1)}))}),[]);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"event-info"},s.a.createElement("div",{className:"event-info__content"},s.a.createElement("p",{className:"event-info__content-title"},l.title),s.a.createElement("p",{className:"event-info__content-date"},z.getHours(),".",(z.getMinutes()<10?"0":"")+z.getMinutes()," ",e.days[z.getDay()],","," ",e.monthListRus[z.getMonth()]," ",z.getDate()),s.a.createElement("p",{className:"event-info__content-description"},l.description),s.a.createElement("p",{className:"event-info__content-address"},s.a.createElement("img",{className:"event-info__content-address-image",src:m.a,alt:"address"}),"\u0410\u0434\u0440\u0435\u0441: ",E.name," ",l.address),s.a.createElement("p",{className:"event-info__content-text_m_t"},"\u041f\u0440\u0438\u043c\u0438\u0442\u0435 \u043b\u0438 \u0432\u044b \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u0438?"),s.a.createElement("p",{className:"event-info__content-text_deadline"},"deadline: ",A.getDate()," ",u[A.getMonth()]," ",A.getHours(),":",(A.getMinutes()<10?"0":"")+A.getMinutes()),R?s.a.createElement("p",{className:"event-info__content-text"},"\u0412\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438 deadline"):s.a.createElement("form",{className:"event-info__content-form",onSubmit:function(e){e.preventDefault();var a={event:t,answer:C,rejection_reason:T};v?_.a.patchPoll(a,v):_.a.postPoll(a).then((function(e){b(e.data.id)}))}},s.a.createElement("label",{className:"event-info-modal__label"},"\u0414\u0430",s.a.createElement("input",{className:"event-info-modal__input",type:"checkbox",checked:O,onChange:function(){k(!0),D(!1),P(!0)}}),s.a.createElement("span",{className:"event-info-modal__checkmark"})),s.a.createElement("label",{className:"event-info-modal__label"},"\u041d\u0435\u0442",s.a.createElement("input",{className:"event-info-modal__input",type:"checkbox",checked:S,onChange:function(){k(!1),D(!0),P(!1)}}),s.a.createElement("span",{className:"event-info-modal__checkmark"})),s.a.createElement("p",{className:"event-info__content-text"},"\u0415\u0441\u043b\u0438 \u043d\u0435\u0442, \u0442\u043e \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:"),s.a.createElement("textarea",{cols:60,rows:4,placeholder:"\u0412\u0430\u0448 \u043e\u0442\u0432\u0435\u0442...",disabled:!!O,id:"event-info__textarea-disabled",className:"event-info__content-form-textarea",value:T,onChange:function(e){F(e.target.value)}}),s.a.createElement("button",{type:"submit",className:"event-info__content-form-submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))),s.a.createElement("div",{className:"event-info__content"},s.a.createElement("img",{src:l.image||i.a,alt:"event",className:"event-info__content-right-image"}))))}))))}}]);
//# sourceMappingURL=16.f9a4ba9b.chunk.js.map