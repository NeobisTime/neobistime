{"version":3,"sources":["components/pages/admin/admin-create-event/hours-scrollbar.tsx","components/pages/admin/admin-create-event/minutes-scrollbar.tsx","components/pages/admin/admin-create-event/admin-create-event.tsx","components/pages/admin/admin-create-event/index.js"],"names":["HoursScrollbar","props","value","setValue","autoHide","autoHideTimeout","autoHideDuration","autoHeight","autoHeightMin","autoHeightMax","thumbMinSize","universal","className","style","width","height","map","number","key","onClick","MinutesScrollbar","withDataContainer","withRouter","console","log","eventId","match","params","id","useState","title","setTitle","description","setDescription","image","setImage","departments","setDepartments","Date","startDate","setStartDate","startDateHours","setStartDateHours","startDateMinutes","setStartDateMinutes","endDate","setEndDate","endDateHours","setEndDateHours","endDateMinutes","setEndDateMinutes","address","setAddress","addressDisable","setAddressDisable","place","setPlace","finalUsers","setFinalUsers","usersForSend","setUsersForSend","alertType","setAlertType","alertText","setAlertText","isAlertOpen","setIsAlertOpen","openAlert","response","status","setTimeout","useEffect","API","getUsers","then","users","preFinalUsers","data","user","email","label","name_surname","getEventInfo","requestData","start","end","requestDepartments","attendees","duplicatesDepartments","filter","val","indexOf","requestUsers","individual_users","duplicateUsers","getHours","getMinutes","handleChangeAddress","e","target","updateStartTime","startTime","setHours","getFullYear","getMonth","getDate","updateEndTime","endTime","event","a","preventDefault","start_time","end_time","departmentNumbers","CheckForAll","find","item","usersForSendEmails","formData","FormData","append","String","patchEventChangeData","catch","error","request","postEventCreateData","timeOut","onSubmit","method","encType","htmlFor","type","name","required","onChange","cols","rows","placeholder","margin","readOnly","files","locale","localeUtils","MomentLocaleUtils","firstDayOfWeek","onDayClick","date","selectedDays","rooms","checked","undefined","disabled","isMulti","isClearable","isSearchable","options","selectDepartments","classNamePrefix","text","onClose","CreateEventPage"],"mappings":"6PAsEeA,EAnEQ,SAACC,GAAgB,IAC9BC,EAAoBD,EAApBC,MAAOC,EAAaF,EAAbE,SA2Bf,OACE,oCACE,kBAAC,aAAD,CACEC,UAAQ,EACRC,gBAAiB,IACjBC,iBAAkB,IAClBC,YAAU,EACVC,cAAe,EACfC,cAAe,IACfC,aAAc,GACdC,WAAW,EACXC,UAAU,4BACVC,MAAO,CAAEC,MAAO,GAAIC,OAAQ,MAE5B,yBAAKH,UAAU,8DAAf,WAxCQ,CACZ,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAmBWI,KAAI,SAACC,GACV,OACE,yBACEC,IAAKD,EACLL,UACEK,IAAWf,EACP,oEACA,4BAENiB,QAAS,WACPhB,EAASc,KAGVA,SC2CAG,EArGU,SAACnB,GAAgB,IAChCC,EAAoBD,EAApBC,MAAOC,EAAaF,EAAbE,SA+Df,OACE,kBAAC,aAAD,CACEC,UAAQ,EACRC,gBAAiB,IACjBC,iBAAkB,IAClBC,YAAU,EACVC,cAAe,EACfC,cAAe,IACfC,aAAc,GACdC,WAAW,EACXC,UAAU,4BACVC,MAAO,CAAEC,MAAO,GAAIC,OAAQ,MAE5B,yBAAKH,UAAU,8DAAf,WA3EY,CACd,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAkBWI,KAAI,SAACC,GACZ,OACE,yBACEC,IAAKD,EACLL,UACEK,GAAUf,EACN,oEACA,4BAENiB,QAAS,WACPhB,GAAUc,KAGXA,Q,sCCsWEI,cAAkBC,aArbT,SAACrB,GACvBsB,QAAQC,IAAI,2BAA4BvB,GACxC,IAAMwB,EAAUxB,EAAMyB,MAAMC,OAAOC,GAFG,EAIZC,mBAAiB,IAJL,mBAI/BC,EAJ+B,KAIxBC,EAJwB,OAKAF,mBAAiB,IALjB,mBAK/BG,EAL+B,KAKlBC,EALkB,OAMZJ,mBAAc,IANF,mBAM/BK,EAN+B,KAMxBC,EANwB,OAOAN,mBAAS,IAPT,mBAO/BO,EAP+B,KAOlBC,EAPkB,OASJR,mBAAe,IAAIS,MATf,mBAS/BC,EAT+B,KASpBC,EAToB,OAUMX,oBAAkB,GAVxB,mBAU/BY,EAV+B,KAUfC,EAVe,OAWUb,oBAAkB,GAX5B,mBAW/Bc,EAX+B,KAWbC,EAXa,OAaRf,mBAAe,IAAIS,MAbX,mBAa/BO,EAb+B,KAatBC,EAbsB,OAcEjB,oBAAkB,GAdpB,mBAc/BkB,EAd+B,KAcjBC,EAdiB,OAeMnB,oBAAkB,GAfxB,oBAe/BoB,GAf+B,MAefC,GAfe,SAiBRrB,mBAAiB,IAjBT,qBAiB/BsB,GAjB+B,MAiBtBC,GAjBsB,SAkBMvB,oBAAkB,GAlBxB,qBAkB/BwB,GAlB+B,MAkBfC,GAlBe,SAmBZzB,mBAAc,MAnBF,qBAmB/B0B,GAnB+B,MAmBxBC,GAnBwB,SAsBF3B,mBAAS,IAtBP,qBAsB/B4B,GAtB+B,MAsBnBC,GAtBmB,SAuBE7B,mBAAS,IAvBX,qBAuB/B8B,GAvB+B,MAuBjBC,GAvBiB,SAyBJ/B,mBAAS,WAzBL,qBAyB/BgC,GAzB+B,MAyBpBC,GAzBoB,SA0BJjC,mBAAS,IA1BL,qBA0B/BkC,GA1B+B,MA0BpBC,GA1BoB,SA2BFnC,oBAAkB,GA3BhB,qBA2BjCoC,GA3BiC,MA2BpBC,GA3BoB,MA+BhCC,GAAY,SAACC,GACbA,EAASC,QAAU,KAAOD,EAASC,QAAU,KAC/CP,GAAa,WACbE,GAAa,qHAEbF,GAAa,SACbE,GAAaI,EAASA,UAAY,8HAEpCF,IAAe,GACfI,YAAW,WACTJ,IAAe,KACd,MAGLK,qBAAU,WACRC,IAAIC,WAAWC,MAAK,SAACC,GACnB,IAAIC,EAAqBD,EAAME,KAAK7D,KAAI,SAAC8D,GACvC,MAAO,CAAE5E,MAAO4E,EAAKC,MAAOC,MAAOF,EAAKG,iBAE1CvB,GAAckB,QAEf,IAEHL,qBAAU,WACJ9C,GACF+C,IAAIU,aAAazD,GAASiD,MAAK,SAACS,GAC9B,IAAIN,EAAOM,EAAYN,KACvB9C,EAAS8C,EAAK/C,OACdK,EAAS0C,EAAK3C,OACdD,EAAe4C,EAAK7C,aACpBQ,EAAa,IAAIF,KAAKuC,EAAKO,QAC3BtC,EAAW,IAAIR,KAAKuC,EAAKQ,MACzB7B,GAASqB,EAAKtB,OACdH,GAAWyB,EAAK1B,SACM,IAAlB0B,EAAKtB,MAAM3B,IACb0B,IAAkB,GAGpB,IAAIgC,EAAqBT,EAAKU,UAAUnD,YAEpCoD,EADiBvF,EAAMmC,YACgBqD,QAAO,SAACC,GACjD,OAAkD,GAA3CJ,EAAmBK,SAASD,EAAIxF,UAEzCmC,EAAemD,GAEf,IAAII,EAAef,EAAKU,UAAUM,iBAClCrB,IAAIC,WAAWC,MAAK,SAACC,GACnB,IAGImB,EAHqBnB,EAAME,KAAK7D,KAAI,SAAC8D,GACvC,MAAO,CAAE5E,MAAO4E,EAAKC,MAAOC,MAAOF,EAAKG,iBAEPQ,QAAO,SAACC,GACzC,OAA4C,IAArCE,EAAaD,QAAQD,EAAIxF,UAElC0D,GAAgBkC,MAIlB,IAAIvD,EAAY,IAAID,KAAKuC,EAAKO,OAC9B1C,EAAkBH,EAAUwD,YAC5BnD,EAAoBL,EAAUyD,cAC9B,IAAInD,EAAU,IAAIP,KAAKuC,EAAKQ,KAC5BrC,EAAgBH,EAAQkD,YACxB7C,GAAkBL,EAAQmD,mBAG7B,IAEH,IAAMC,GAAsB,SAACC,GACvBzE,GACF+B,GAAS,eAAKD,GAAN,CAAa3B,GAAIsE,EAAEC,OAAOjG,SACZ,GAAlBgG,EAAEC,OAAOjG,OACXoD,IAAkB,KAGpBE,IAAU0C,EAAEC,OAAOjG,OACnBoD,IAAkB,GAClBF,GAAW,IAEW,GAAlB8C,EAAEC,OAAOjG,OACXoD,IAAkB,KAKlB8C,GAAkB,WACtB,IAAIC,EAAY,IAAI/D,KAAKC,GAKzB,OAJA8D,EAAUC,SAAS7D,EAAgBE,EAAkB,GACxC,UAAM0D,EAAUE,cAAhB,YACXF,EAAUG,WAAa,EADZ,YAETH,EAAUI,UAFD,YAEcJ,EAAUN,WAFxB,YAEsCM,EAAUL,aAFhD,QAKTU,GAAgB,WACpB,IAAIC,EAAU,IAAIrE,KAAKO,GAKvB,OAJA8D,EAAQL,SAASvD,EAAcE,GAAgB,GAClC,UAAM0D,EAAQJ,cAAd,YACXI,EAAQH,WAAa,EADV,YAETG,EAAQF,UAFC,YAEYE,EAAQZ,WAFpB,YAEkCY,EAAQX,aAF1C,QA9HuB,8CAoItC,WAA4BY,GAA5B,yBAAAC,EAAA,6DACED,EAAME,iBADR,SAGyBV,KAHzB,cAGMW,EAHN,gBAIuBL,KAJvB,OAIMM,EAJN,OAOMC,EAAyB,GACzB7E,IACE8E,EAAc9E,EAAY+E,MAAK,SAACC,GAAD,MAA8B,QAAfA,EAAKlH,SAGrD+G,EAFEC,EAEkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAGzB9E,EAAYpB,KAAI,SAACoG,GACnC,OAAQA,EAAKlH,UAIfmH,EAA0B,GAC1B1D,KACF0D,EAAqB1D,GAAa3C,KAAI,SAACoG,GACrC,OAAOA,EAAKlH,WAIZoH,EAAW,IAAIC,UACVC,OAAO,QAAS1F,GACzBwF,EAASE,OAAO,cAAexF,GAC3BP,EACmB,kBAAVS,EACToF,EAASE,OAAO,QAAStF,EAAM,IAC1BX,QAAQC,IAAI,mBAEfU,EAAM,IACRoF,EAASE,OAAO,QAAStF,EAAM,IAGnCoF,EAASE,OAAO,QAASC,OAAOV,IAChCO,EAASE,OAAO,WAAYC,OAAOV,IACnCO,EAASE,OAAO,MAAOC,OAAOT,IAC1BvF,EACF6F,EAASE,OAAO,QAASjE,GAAM3B,IAE/B0F,EAASE,OAAO,QAASjE,IAE3B+D,EAASE,OAAO,UAAWrE,IAC3BmE,EAASE,OAAO,cAAeP,GAC/BK,EAASE,OAAO,mBAAoBH,GACpCC,EAASE,OAAO,WAAY,SAC5BF,EAASE,OAAO,SAAU,QAEtB/F,EACF+C,IAAIkD,qBAAqBJ,EAAU7F,GAChCiD,MAAK,SAACN,GACLD,GAAUC,MAEXuD,OAAM,SAACC,GACNzD,GAAUyD,EAAMC,YAGpBrD,IAAIsD,oBAAoBR,GACrB5C,MAAK,SAACN,GACLD,GAAUC,MAEXuD,OAAM,SAACC,GACNzD,GAAUyD,EAAMC,YAnExB,6CApIsC,sBA4MtC,OACE,oCACE,yBAAKjH,UAAU,2BACb,kBAAC,IAAD,MACA,yBAAKA,UAAU,oBACb,kBAAC,IAAD,CAASmH,QAAS,MAClB,yBAAKnH,UAAU,gBACb,0BACEA,UAAU,qBACVoH,SArN0B,6CAsN1BC,OAAO,OACPC,QAAQ,uBAER,6BAAStH,UAAU,8BACjB,2BAAOA,UAAU,2BAA2BuH,QAAQ,QAApD,oDAGA,2BACEvH,UAAU,2BACVwH,KAAK,OACLC,KAAK,OACLC,UAAQ,EACRpI,MAAO4B,EACPyG,SAAU,SAACrC,GACTnE,EAASmE,EAAEC,OAAOjG,UAGtB,2BACEU,UAAU,2BACVuH,QAAQ,eAFV,oDAMA,8BACEK,KAAM,GACNC,KAAM,GACNJ,KAAK,cACLC,UAAQ,EACRpI,MAAO8B,EACPuG,SAAU,SAACrC,GACTjE,EAAeiE,EAAEC,OAAOjG,QAE1BwI,YAAY,wFACZ9H,UAAU,gCAGZ,2BAAOA,UAAU,4BAAjB,sEACA,yBAAKA,UAAU,2BACb,2BACEC,MAAO,CACLC,MAAO,OACP6H,OAAQ,cAEV/H,UAAU,2BACVwH,KAAK,OACLlI,MAAOgC,EAAM,GAAKA,EAAM,GAAGmG,MAAQnG,EAAQ,qEAC3C0G,UAAQ,IAEV,2BACER,KAAK,OACLC,KAAK,OACLzG,GAAG,OACHhB,UAAU,uCACV2H,SAAU,SAACrC,GACT/D,EAAS+D,EAAEC,OAAO0C,UAGtB,2BACEjI,UAAU,sCACVuH,QAAQ,QAFV,6GASJ,6BAASvH,UAAU,uCACjB,kBAAC,IAAD,CACEkI,OAAO,KACPC,YAAaC,IACbC,eAAgB,EAChBC,WAAY,SAACC,GACX3G,EAAa2G,GACbrG,EAAWqG,IAEbC,aAAc7G,IAGhB,yBAAK3B,UAAU,uDACb,yBAAKA,UAAU,oCACb,2BACEA,UAAU,2BACVuH,QAAQ,cAFV,wCAMA,yBAAKvH,UAAU,UACb,kBAAC,EAAD,CACEV,MAAOuC,EACPtC,SAAUuC,IAEZ,kBAAC,EAAD,CACExC,MAAOyC,EACPxC,SAAUyC,MAKhB,yBAAKhC,UAAU,oCACb,2BACEA,UAAU,2BACVuH,QAAQ,cAFV,kCAMA,yBAAKvH,UAAU,UACb,kBAAC,EAAD,CACEV,MAAO6C,EACP5C,SAAU6C,IAEZ,kBAAC,EAAD,CACE9C,MAAO+C,GACP9C,SAAU+C,SAOpB,6BAAStC,UAAU,8BACjB,2BACEA,UAAU,2BACVuH,QAAQ,eAFV,+FAMA,yBAAKvH,UAAU,4BACZX,EAAMoJ,MAAMrI,KAAI,SAACoG,GAAD,OACf,yBAAKxG,UAAU,sCACb,2BACEwH,KAAK,QACLC,KAAK,QACLzH,UAAU,kCACV2H,SAAUtC,GACV/F,MAAOkH,EAAKxF,GACZ0H,QACE7H,KACI8B,KAAUA,GAAM3B,KAAOwF,EAAKxF,SAG5B2H,IAGR,2BAAOpB,QAAQ,SAASf,EAAKiB,UAGjC,2BACEzH,UAAU,2DACVwH,KAAK,OACLC,KAAK,UACLmB,WAAUnG,GACViF,UAAUjF,GACVnD,MAAOiD,GACPoF,SAAU,SAACrC,GACT9C,GAAW8C,EAAEC,OAAOjG,WAK1B,2BACEU,UAAU,2BACVuH,QAAQ,SACRtH,MAAO,CAAE8H,OAAQ,kBAHnB,mIAOA,kBAAC,IAAD,CACEc,SAAO,EACPvJ,MAAOkC,EACPsH,aAAa,EACbC,cAAc,EACdC,QAAS3J,EAAM4J,kBACfjJ,UAAU,qBACV8H,YAAY,gHACZoB,gBAAgB,SAChBvB,SAAU,SAACrC,GACT7D,EAAe6D,MAKnB,2BACEtF,UAAU,2BACVuH,QAAQ,SACRtH,MAAO,CAAE8H,OAAQ,kBAHnB,sJAOA,kBAAC,IAAD,CACEc,SAAO,EACPC,aAAa,EACbxJ,MAAOyD,GACPgG,cAAc,EACdC,QAASnG,GACT7C,UAAU,qBACVkJ,gBAAgB,SAChBpB,YAAY,4EACZH,SAAU,SAACrC,GACTtC,GAAgBsC,MAGpB,4BACEtF,UAAU,oCACVwH,KAAK,UAFP,6DASLnE,IACC,kBAAC,IAAD,CACEmE,KAAMvE,GACNkG,KAAMhG,GACNiG,QAhZY,WACtB9F,IAAgBD,cC5CLgG","file":"static/js/19.2031c165.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nconst HoursScrollbar = (props: any) => {\r\n  const { value, setValue } = props;\r\n  const hours = [\r\n    8,\r\n    9,\r\n    10,\r\n    11,\r\n    12,\r\n    13,\r\n    14,\r\n    15,\r\n    16,\r\n    17,\r\n    18,\r\n    19,\r\n    20,\r\n    21,\r\n    22,\r\n    23,\r\n    0,\r\n    1,\r\n    2,\r\n    3,\r\n    4,\r\n    5,\r\n    6,\r\n    7,\r\n  ];\r\n  return (\r\n    <>\r\n      <Scrollbars\r\n        autoHide\r\n        autoHideTimeout={1000}\r\n        autoHideDuration={200}\r\n        autoHeight\r\n        autoHeightMin={0}\r\n        autoHeightMax={200}\r\n        thumbMinSize={30}\r\n        universal={true}\r\n        className=\"create-event__form-scroll\"\r\n        style={{ width: 50, height: 200 }}\r\n      >\r\n        <div className=\"create-event__form-number create-event__form-number_active\">\r\n          ч.\r\n        </div>\r\n        {hours.map((number) => {\r\n          return (\r\n            <div\r\n              key={number}\r\n              className={\r\n                number === value\r\n                  ? \"create-event__form-number create-event__form-number_active-number\"\r\n                  : \"create-event__form-number\"\r\n              }\r\n              onClick={() => {\r\n                setValue(number);\r\n              }}\r\n            >\r\n              {number}\r\n            </div>\r\n          );\r\n        })}\r\n      </Scrollbars>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HoursScrollbar;\r\n","import React from \"react\";\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\n\r\nconst MinutesScrollbar = (props: any) => {\r\n  const { value, setValue } = props;\r\n  const minutes = [\r\n    '00',\r\n    '01',\r\n    '02',\r\n    '03',\r\n    '04',\r\n    '05',\r\n    '06',\r\n    '07',\r\n    '08',\r\n    '09',\r\n    10,\r\n    11,\r\n    12,\r\n    13,\r\n    14,\r\n    15,\r\n    16,\r\n    17,\r\n    18,\r\n    19,\r\n    20,\r\n    21,\r\n    22,\r\n    23,\r\n    24,\r\n    25,\r\n    26,\r\n    27,\r\n    28,\r\n    29,\r\n    30,\r\n    31,\r\n    32,\r\n    33,\r\n    34,\r\n    35,\r\n    36,\r\n    37,\r\n    38,\r\n    39,\r\n    40,\r\n    41,\r\n    42,\r\n    43,\r\n    44,\r\n    45,\r\n    46,\r\n    47,\r\n    48,\r\n    49,\r\n    50,\r\n    51,\r\n    52,\r\n    53,\r\n    54,\r\n    55,\r\n    56,\r\n    57,\r\n    58,\r\n    59,\r\n  ];\r\n  return (\r\n    <Scrollbars\r\n      autoHide\r\n      autoHideTimeout={1000}\r\n      autoHideDuration={200}\r\n      autoHeight\r\n      autoHeightMin={0}\r\n      autoHeightMax={200}\r\n      thumbMinSize={30}\r\n      universal={true}\r\n      className=\"create-event__form-scroll\"\r\n      style={{ width: 50, height: 200 }}\r\n    >\r\n      <div className=\"create-event__form-number create-event__form-number_active\">\r\n        м.\r\n      </div>\r\n      {minutes.map((number) => {\r\n        return (\r\n          <div\r\n            key={number}\r\n            className={\r\n              number == value\r\n                ? \"create-event__form-number create-event__form-number_active-number\"\r\n                : \"create-event__form-number\"\r\n            }\r\n            onClick={() => {\r\n              setValue(+number);\r\n            }}\r\n          >\r\n            {number}\r\n          </div>\r\n        );\r\n      })}\r\n    </Scrollbars>\r\n  );\r\n};\r\n\r\nexport default MinutesScrollbar;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AdminNavbar from \"../admin-navbar\";\r\nimport DayPicker from \"react-day-picker\";\r\nimport MomentLocaleUtils from \"react-day-picker/moment\";\r\nimport \"moment/locale/ru\";\r\n\r\nimport \"react-day-picker/lib/style.css\";\r\nimport Select from \"react-select\";\r\nimport HoursScrollbar from \"./hours-scrollbar\";\r\nimport MinutesScrollbar from \"./minutes-scrollbar\";\r\nimport withDataContainer from \"../../../../HOC/withData\";\r\nimport API from \"../../../../API\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Alert from \"../../../shared/alert\";\r\nimport { roomType } from \"../../../../HOC/withData\";\r\nimport Spinner from \"../../../shared/spinner/spinner\";\r\n\r\nconst CreateEventPage = (props: any) => {\r\n  console.log(\"CreateEventPage -> props\", props);\r\n  const eventId = props.match.params.id;\r\n\r\n  const [title, setTitle] = useState<string>(\"\");\r\n  const [description, setDescription] = useState<string>(\"\");\r\n  const [image, setImage] = useState<any>([]);\r\n  const [departments, setDepartments] = useState([]);\r\n\r\n  const [startDate, setStartDate] = useState<Date>(new Date());\r\n  const [startDateHours, setStartDateHours] = useState<number>(-1);\r\n  const [startDateMinutes, setStartDateMinutes] = useState<number>(-1);\r\n\r\n  const [endDate, setEndDate] = useState<Date>(new Date());\r\n  const [endDateHours, setEndDateHours] = useState<number>(-1);\r\n  const [endDateMinutes, setEndDateMinutes] = useState<number>(-1);\r\n\r\n  const [address, setAddress] = useState<string>(\"\");\r\n  const [addressDisable, setAddressDisable] = useState<boolean>(true);\r\n  const [place, setPlace] = useState<any>(null);\r\n\r\n  // final users = users to show in select\r\n  const [finalUsers, setFinalUsers] = useState([]);\r\n  const [usersForSend, setUsersForSend] = useState([]);\r\n\r\n  const [alertType, setAlertType] = useState(\"success\");\r\n  const [alertText, setAlertText] = useState(\"\");\r\n  let [isAlertOpen, setIsAlertOpen] = useState<boolean>(false);\r\n  const toggleAlertOpen = () => {\r\n    setIsAlertOpen(!isAlertOpen);\r\n  };\r\n  const openAlert = (response: any) => {\r\n    if (response.status >= 200 && response.status <= 299) {\r\n      setAlertType(\"success\");\r\n      setAlertText(\"Все прошло без ошибок\");\r\n    } else {\r\n      setAlertType(\"error\");\r\n      setAlertText(response.response || \"непредвиденная ошибка\");\r\n    }\r\n    setIsAlertOpen(true);\r\n    setTimeout(() => {\r\n      setIsAlertOpen(false);\r\n    }, 5000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    API.getUsers().then((users) => {\r\n      let preFinalUsers: any = users.data.map((user: any) => {\r\n        return { value: user.email, label: user.name_surname };\r\n      });\r\n      setFinalUsers(preFinalUsers);\r\n    });\r\n  }, []);\r\n  // with params for put request\r\n  useEffect(() => {\r\n    if (eventId) {\r\n      API.getEventInfo(eventId).then((requestData) => {\r\n        let data = requestData.data;\r\n        setTitle(data.title);\r\n        setImage(data.image);\r\n        setDescription(data.description);\r\n        setStartDate(new Date(data.start));\r\n        setEndDate(new Date(data.end));\r\n        setPlace(data.place);\r\n        setAddress(data.address);\r\n        if (data.place.id === 4) {\r\n          setAddressDisable(false);\r\n        }\r\n        // fill departments attendees\r\n        let requestDepartments = data.attendees.departments;\r\n        let allDepartments = props.departments;\r\n        let duplicatesDepartments = allDepartments.filter((val: any) => {\r\n          return requestDepartments.indexOf(+val.value) != -1;\r\n        });\r\n        setDepartments(duplicatesDepartments);\r\n\r\n        let requestUsers = data.attendees.individual_users;\r\n        API.getUsers().then((users) => {\r\n          let preFinalUsers: any = users.data.map((user: any) => {\r\n            return { value: user.email, label: user.name_surname };\r\n          });\r\n          let duplicateUsers = preFinalUsers.filter((val: any) => {\r\n            return requestUsers.indexOf(val.value) !== -1;\r\n          });\r\n          setUsersForSend(duplicateUsers);\r\n        });\r\n\r\n        // set time for scrollbars\r\n        let startDate = new Date(data.start);\r\n        setStartDateHours(startDate.getHours());\r\n        setStartDateMinutes(startDate.getMinutes());\r\n        let endDate = new Date(data.end);\r\n        setEndDateHours(endDate.getHours());\r\n        setEndDateMinutes(endDate.getMinutes());\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const handleChangeAddress = (e: any) => {\r\n    if (eventId) {\r\n      setPlace({ ...place, id: e.target.value });\r\n      if (e.target.value == 5) {\r\n        setAddressDisable(false);\r\n      }\r\n    } else {\r\n      setPlace(+e.target.value);\r\n      setAddressDisable(true);\r\n      setAddress(\"\");\r\n\r\n      if (e.target.value == 5) {\r\n        setAddressDisable(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateStartTime = () => {\r\n    let startTime = new Date(startDate);\r\n    startTime.setHours(startDateHours, startDateMinutes, 0);\r\n    let finalTime = `${startTime.getFullYear()}-${\r\n      startTime.getMonth() + 1\r\n    }-${startTime.getDate()}T${startTime.getHours()}:${startTime.getMinutes()}:00`;\r\n    return finalTime;\r\n  };\r\n  const updateEndTime = () => {\r\n    let endTime = new Date(endDate);\r\n    endTime.setHours(endDateHours, endDateMinutes, 0);\r\n    let finalTime = `${endTime.getFullYear()}-${\r\n      endTime.getMonth() + 1\r\n    }-${endTime.getDate()}T${endTime.getHours()}:${endTime.getMinutes()}:00`;\r\n    return finalTime;\r\n  };\r\n\r\n  async function handleSubmit(event: any) {\r\n    event.preventDefault();\r\n\r\n    let start_time = await updateStartTime();\r\n    let end_time = await updateEndTime();\r\n\r\n    // working with forming attendees\r\n    let departmentNumbers: any = [];\r\n    if (departments) {\r\n      let CheckForAll = departments.find((item: any) => item.value === \"all\");\r\n      if (CheckForAll) {\r\n        // * if selected all departments we return array with all\r\n        departmentNumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n      } else {\r\n        // * else return selected deparments\r\n        departmentNumbers = departments.map((item: any) => {\r\n          return +item.value;\r\n        });\r\n      }\r\n    }\r\n    let usersForSendEmails: any = [];\r\n    if (usersForSend) {\r\n      usersForSendEmails = usersForSend.map((item: any) => {\r\n        return item.value;\r\n      });\r\n    }\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"title\", title);\r\n    formData.append(\"description\", description);\r\n    if (eventId) {\r\n      if (typeof image !== typeof \"\") {\r\n        formData.append(\"image\", image[0]);\r\n      } else console.log(\"image is string\");\r\n    } else {\r\n      if (image[0]) {\r\n        formData.append(\"image\", image[0]);\r\n      }\r\n    }\r\n    formData.append(\"start\", String(start_time));\r\n    formData.append(\"deadline\", String(start_time));\r\n    formData.append(\"end\", String(end_time));\r\n    if (eventId) {\r\n      formData.append(\"place\", place.id);\r\n    } else {\r\n      formData.append(\"place\", place);\r\n    }\r\n    formData.append(\"address\", address);\r\n    formData.append(\"departments\", departmentNumbers);\r\n    formData.append(\"individual_users\", usersForSendEmails);\r\n    formData.append(\"my_event\", \"false\");\r\n    formData.append(\"public\", \"true\");\r\n\r\n    if (eventId) {\r\n      API.patchEventChangeData(formData, eventId)\r\n        .then((response) => {\r\n          openAlert(response);\r\n        })\r\n        .catch((error) => {\r\n          openAlert(error.request);\r\n        });\r\n    } else {\r\n      API.postEventCreateData(formData)\r\n        .then((response) => {\r\n          openAlert(response);\r\n        })\r\n        .catch((error) => {\r\n          openAlert(error.request);\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"wrapper wrapper_bg_grey\">\r\n        <AdminNavbar />\r\n        <div className=\"content__wrapper\">\r\n          <Spinner timeOut={600} />\r\n          <div className=\"create-event\">\r\n            <form\r\n              className=\"create-event__form\"\r\n              onSubmit={handleSubmit}\r\n              method=\"post\"\r\n              encType=\"multipart/form-data\"\r\n            >\r\n              <section className=\"create-event__form-section\">\r\n                <label className=\"create-event__form-label\" htmlFor=\"name\">\r\n                  Название\r\n                </label>\r\n                <input\r\n                  className=\"create-event__form-input\"\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  required\r\n                  value={title}\r\n                  onChange={(e) => {\r\n                    setTitle(e.target.value);\r\n                  }}\r\n                />\r\n                <label\r\n                  className=\"create-event__form-label\"\r\n                  htmlFor=\"description\"\r\n                >\r\n                  Описание\r\n                </label>\r\n                <textarea\r\n                  cols={30}\r\n                  rows={14}\r\n                  name=\"description\"\r\n                  required\r\n                  value={description}\r\n                  onChange={(e) => {\r\n                    setDescription(e.target.value);\r\n                  }}\r\n                  placeholder=\"Описание ивента\"\r\n                  className=\"create-event__form-textarea\"\r\n                />\r\n\r\n                <label className=\"create-event__form-label\">Изображение</label>\r\n                <div className=\"create-event__form-file\">\r\n                  <input\r\n                    style={{\r\n                      width: \"100%\",\r\n                      margin: \"0 0 10px 0\",\r\n                    }}\r\n                    className=\"create-event__form-input\"\r\n                    type=\"text\"\r\n                    value={image[0] ? image[0].name || image : \"Изображение\"}\r\n                    readOnly\r\n                  />\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    id=\"file\"\r\n                    className=\"create-event__form-file-input button\"\r\n                    onChange={(e) => {\r\n                      setImage(e.target.files);\r\n                    }}\r\n                  />\r\n                  <label\r\n                    className=\"create-event__form-file-input-value\"\r\n                    htmlFor=\"file\"\r\n                  >\r\n                    Загрузить Документ\r\n                  </label>\r\n                </div>\r\n              </section>\r\n\r\n              <section className=\"create-event__form-section_calendar\">\r\n                <DayPicker\r\n                  locale=\"ru\"\r\n                  localeUtils={MomentLocaleUtils}\r\n                  firstDayOfWeek={1}\r\n                  onDayClick={(date) => {\r\n                    setStartDate(date);\r\n                    setEndDate(date);\r\n                  }}\r\n                  selectedDays={startDate}\r\n                />\r\n\r\n                <div className=\"create-event__form-section_calendar-content-wrapper\">\r\n                  <div className=\"create-event__form-label_wrapper\">\r\n                    <label\r\n                      className=\"create-event__form-label\"\r\n                      htmlFor=\"time-start\"\r\n                    >\r\n                      Начало\r\n                    </label>\r\n                    <div className=\"d-flex\">\r\n                      <HoursScrollbar\r\n                        value={startDateHours}\r\n                        setValue={setStartDateHours}\r\n                      />\r\n                      <MinutesScrollbar\r\n                        value={startDateMinutes}\r\n                        setValue={setStartDateMinutes}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"create-event__form-label_wrapper\">\r\n                    <label\r\n                      className=\"create-event__form-label\"\r\n                      htmlFor=\"time-start\"\r\n                    >\r\n                      Конец\r\n                    </label>\r\n                    <div className=\"d-flex\">\r\n                      <HoursScrollbar\r\n                        value={endDateHours}\r\n                        setValue={setEndDateHours}\r\n                      />\r\n                      <MinutesScrollbar\r\n                        value={endDateMinutes}\r\n                        setValue={setEndDateMinutes}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n\r\n              <section className=\"create-event__form-section\">\r\n                <label\r\n                  className=\"create-event__form-label\"\r\n                  htmlFor=\"description\"\r\n                >\r\n                  Выберите локацию\r\n                </label>\r\n                <div className=\"create-event__form-radio\">\r\n                  {props.rooms.map((item: roomType) => (\r\n                    <div className=\"create-event__form-radio-container\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"place\"\r\n                        className=\"create-event__form-radio-button\"\r\n                        onChange={handleChangeAddress}\r\n                        value={item.id}\r\n                        checked={\r\n                          eventId\r\n                            ? place && +place.id === item.id\r\n                              ? true\r\n                              : false\r\n                            : undefined\r\n                        }\r\n                      />\r\n                      <label htmlFor=\"small\">{item.name}</label>\r\n                    </div>\r\n                  ))}\r\n                  <input\r\n                    className=\"create-event__form-input create-event__form-input_border\"\r\n                    type=\"text\"\r\n                    name=\"address\"\r\n                    disabled={addressDisable ? true : false}\r\n                    required={addressDisable ? false : true}\r\n                    value={address}\r\n                    onChange={(e) => {\r\n                      setAddress(e.target.value);\r\n                    }}\r\n                  />\r\n                </div>\r\n                {/* <div className=\"create-event__form-select-container\"> */}\r\n                <label\r\n                  className=\"create-event__form-label\"\r\n                  htmlFor=\"invite\"\r\n                  style={{ margin: \"30px 0 10px 0\" }}\r\n                >\r\n                  Пригласить департамент\r\n                </label>\r\n                <Select\r\n                  isMulti\r\n                  value={departments}\r\n                  isClearable={true}\r\n                  isSearchable={true}\r\n                  options={props.selectDepartments}\r\n                  className=\"basic-multi-select\"\r\n                  placeholder=\"Выбрать департамент\"\r\n                  classNamePrefix=\"select\"\r\n                  onChange={(e: any) => {\r\n                    setDepartments(e);\r\n                  }}\r\n                />\r\n                {/* </div> */}\r\n\r\n                <label\r\n                  className=\"create-event__form-label\"\r\n                  htmlFor=\"invite\"\r\n                  style={{ margin: \"30px 0 10px 0\" }}\r\n                >\r\n                  Пригласить отдельных людей\r\n                </label>\r\n                <Select\r\n                  isMulti\r\n                  isClearable={true}\r\n                  value={usersForSend}\r\n                  isSearchable={true}\r\n                  options={finalUsers}\r\n                  className=\"basic-multi-select\"\r\n                  classNamePrefix=\"select\"\r\n                  placeholder=\"Выбрать людей\"\r\n                  onChange={(e: any) => {\r\n                    setUsersForSend(e);\r\n                  }}\r\n                />\r\n                <button\r\n                  className=\"button create-event__form-submit \"\r\n                  type=\"submit\"\r\n                >\r\n                  Сохранить\r\n                </button>\r\n              </section>\r\n            </form>\r\n          </div>\r\n          {isAlertOpen && (\r\n            <Alert\r\n              type={alertType}\r\n              text={alertText}\r\n              onClose={toggleAlertOpen}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withDataContainer(withRouter(CreateEventPage));\r\n","import CreateEventPage from \"./admin-create-event.tsx\";\r\n\r\nexport default CreateEventPage;\r\n"],"sourceRoot":""}