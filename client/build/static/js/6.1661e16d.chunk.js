(this.webpackJsonpneobis_time=this.webpackJsonpneobis_time||[]).push([[6],{282:function(e,t,a){e.exports=a.p+"static/media/comed_events.1f152545.svg"},283:function(e,t,a){e.exports=a.p+"static/media/missed_events.6c6faf4d.svg"},284:function(e,t,a){e.exports=a.p+"static/media/personal_achievment_1.b3f45b02.svg"},285:function(e,t,a){e.exports=a.p+"static/media/personal_achievment_2.df06140c.svg"},286:function(e,t,a){e.exports=a.p+"static/media/personal_achievment_3.b0eaf699.svg"},287:function(e,t,a){e.exports=a.p+"static/media/edit_pencil_neobis_color.c80f9e1b.svg"},316:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a(1),c=a.n(s),o=a(38),l=a(4),i=a(12),r=a.n(i),m=a(17),f=a(36),p=a(6),_=a(55),u=a.n(_),d=(a(83),a(56)),b=a.n(d),v=a(57),E=a.n(v),N=function(e){var t=Object(s.useState)(""),a=Object(n.a)(t,2),o=a[0],l=a[1],i=Object(s.useState)(""),_=Object(n.a)(i,2),d=_[0],v=_[1],N=Object(s.useState)(e.date),g=Object(n.a)(N,2),h=g[0],y=g[1],O=Object(s.useState)(0),j=Object(n.a)(O,2),C=j[0],k=j[1],x=Object(s.useState)(0),w=Object(n.a)(x,2),S=w[0],M=w[1],D=Object(s.useState)(e.date),B=Object(n.a)(D,2),H=B[0],I=B[1],q=Object(s.useState)(0),T=Object(n.a)(q,2),A=T[0],G=T[1],F=Object(s.useState)(0),L=Object(n.a)(F,2),z=L[0],R=L[1],J=function(){var e=new Date(h);return e.setHours(C,S,0),"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate(),"T").concat(e.getHours(),":").concat(e.getMinutes())},W=function(){var e=new Date(H);return e.setHours(A,z,0),"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate(),"T").concat(e.getHours(),":").concat(e.getMinutes())};function Y(){return(Y=Object(m.a)(r.a.mark((function t(a){var n,s,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,J();case 3:return n=t.sent,t.next=6,W();case 6:s=t.sent,c={title:o,description:d,start:n,end:s},p.a.postNoteCreateData(c).then((function(t){e.OpenAlert(t)})).catch((function(t){e.OpenAlert(t.request)}));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return c.a.createElement("div",{className:"modal_centered"},c.a.createElement("div",{className:"modal__wrapper"},c.a.createElement(f.a,{onClose:e.onClose}),c.a.createElement("div",{className:"personal-create"},c.a.createElement("div",{className:"personal-create-row"},c.a.createElement("input",{className:"personal-create__input",type:"text",name:"name",required:!0,value:o,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(e){l(e.target.value)}})),c.a.createElement("div",{className:"admin-create-event-modal-row"},c.a.createElement("img",{src:b.a,className:"admin-create-event-modal-icon",alt:"time"}),c.a.createElement("div",{className:"admin-create-event-modal__day-picker"},c.a.createElement(u.a,{value:e.date,onDayChange:function(e){y(e),I(e)}})),c.a.createElement("div",{className:"admin-create-event-modal-time"},c.a.createElement("input",{type:"text",name:"",placeholder:"00",className:"admin-create-event-modal__time-picker",onChange:function(e){k(parseInt(e.target.value))}}),c.a.createElement("div",{className:"admin-create-event-modal__time-picker-colon"},"."),c.a.createElement("input",{type:"text",name:"",placeholder:"00",className:"admin-create-event-modal__time-picker",onChange:function(e){M(parseInt(e.target.value))}}),"\xa0-\xa0",c.a.createElement("input",{type:"text",name:"",placeholder:"00",className:"admin-create-event-modal__time-picker",onChange:function(e){G(parseInt(e.target.value))}}),c.a.createElement("div",{className:"admin-create-event-modal__time-picker-colon"},"."),c.a.createElement("input",{type:"text",name:"",placeholder:"00",className:"admin-create-event-modal__time-picker",onChange:function(e){R(parseInt(e.target.value))}}))),c.a.createElement("div",{className:"personal-create-row"},c.a.createElement("div",{className:"personal-create__textarea-wrapper"},c.a.createElement("img",{src:E.a,className:"admin-create-event-modal-icon",alt:"people"}),c.a.createElement("input",{name:"description",required:!0,value:d,onChange:function(e){v(e.target.value)},placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",className:"personal-create__textarea"}))),c.a.createElement("div",{className:"personal-create-row"},c.a.createElement("div",{className:"personal-create__buttons-wrapper"},c.a.createElement("button",{onClick:function(e){return Y.apply(this,arguments)},className:"personal-create__buttons-save button"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),c.a.createElement("button",{onClick:e.onClose,className:"personal-create__buttons-cancel button"},"\u043e\u0442\u043c\u0435\u043d\u0430"))))))},g=function(e){var t=e.event,a=new Date(t.start);return c.a.createElement("div",{className:"modal_centered"},c.a.createElement("div",{className:"modal__wrapper"},c.a.createElement("div",{className:"event-info-modal"},c.a.createElement(f.a,{onClose:e.onClose}),c.a.createElement("div",{className:"event-info__content",style:{width:"90%"}},c.a.createElement("p",{className:"event-info__content-title",style:{fontSize:"24px"}},t.title),c.a.createElement("p",{className:"event-info__content-date",style:{fontSize:"14px"}},(a.getHours()<10?"0":"")+a.getHours(),".",(a.getMinutes()<10?"0":"")+a.getMinutes()," ",["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"][a.getDay()],", ",["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","C\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"][a.getMonth()]," ",a.getDate()),c.a.createElement("p",{className:"event-info__content-description",style:{fontSize:"18px"}},t.description),c.a.createElement("button",{onClick:function(){p.a.deleteNote(t.id).then((function(t){e.OpenAlert(t)})).catch((function(t){e.OpenAlert(t.request)}))},className:"personal-create__buttons-delete button"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))},h=a(35),y=a(14),O=a(21),j=a.n(O),C=a(49),k=a.n(C),x=a(282),w=a.n(x),S=a(283),M=a.n(S),D=a(284),B=a.n(D),H=a(285),I=a.n(H),q=a(286),T=a.n(q),A=a(287),G=a.n(A),F=a(158),L=a(58),z=a(50),R=a(22),J=a(51),W=a(52),Y=a(53),P=a(54),U=a(16);t.default=Object(U.a)((function(e){var t=Object(s.useState)({}),a=Object(n.a)(t,2),i=a[0],r=a[1],m=Object(s.useState)([]),f=Object(n.a)(m,2),_=f[0],u=f[1],d=Object(s.useState)(new Date),b=Object(n.a)(d,2),v=b[0],E=b[1],O=Object(s.useState)("week"),C=Object(n.a)(O,2),x=C[0],S=C[1],D=Object(s.useState)([]),H=Object(n.a)(D,2),q=H[0],A=H[1],U=Object(s.useState)({}),V=Object(n.a)(U,2),K=V[0],Q=V[1],X=Object(s.useState)({}),Z=Object(n.a)(X,2),$=(Z[0],Z[1]);Object(s.useEffect)((function(){p.a.getPersonalStats(x).then((function(e){A(e.data)}))}),[x]),Object(s.useEffect)((function(){p.a.getUserInfo().then((function(t){Q(t.data);var a=e.departments.filter((function(e){return+e.value===+t.data.department_id}));$(a[0])})),document.getElementsByClassName("fc-today-button")[0].innerHTML="\u0421\u0435\u0433\u043e\u0434\u043d\u044f",document.getElementsByClassName("fc-dayGridMonth-button")[0].innerHTML="\u041c\u0435\u0441\u044f\u0446",document.getElementsByClassName("fc-timeGridWeek-button")[0].innerHTML="\u041d\u0435\u0434\u0435\u043b\u044f",document.getElementsByClassName("fc-timeGridDay-button")[0].innerHTML="\u0414\u0435\u043d\u044c",document.getElementsByClassName("fc-listMonth-button")[0].innerHTML="\u041b\u0438\u0441\u0442"}),[]),Object(s.useEffect)((function(){document.getElementsByClassName("personal-office__stat")[0].style.display="none"}),[]);var ee={datasets:[{data:[q.quantity_of_attended_events||0,q.quantity_of_missed_events||-1],backgroundColor:["#FFCE56","#EC4C47"]}],labels:["\u041f\u043e\u0441\u0435\u0449\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0439","\u041f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0439"],legend:{display:!1},options:{legend:{display:!1}}};Object(s.useEffect)((function(){p.a.getNotes().then((function(e){u(e.data)}))}),[]);var te=Object(s.useState)(!1),ae=Object(n.a)(te,2),ne=ae[0],se=ae[1],ce=function(){se(!ne),pe()},oe=function(e){var t=_.find((function(t){return t.id===Number(e.oldEvent._def.publicId)}))||{id:"",start:"",end:""};t.start=e.event.startStr,t.end=e.event.endStr;var a={start:t.start,end:t.end};p.a.patchNoteChangeData(a,t.id).then((function(e){Ce(e)})).catch((function(e){Ce(e.request)}))},le=Object(s.useState)(!1),ie=Object(n.a)(le,2),re=ie[0],me=ie[1],fe=function(){me(!re),pe()},pe=function(){p.a.getNotes().then((function(e){u(e.data)}))},_e=Object(s.useState)("success"),ue=Object(n.a)(_e,2),de=ue[0],be=ue[1],ve=Object(s.useState)(""),Ee=Object(n.a)(ve,2),Ne=Ee[0],ge=Ee[1],he=Object(s.useState)(!1),ye=Object(n.a)(he,2),Oe=ye[0],je=ye[1],Ce=function(e){e.status>=200&&e.status<=299?(be("success"),ge("\u0412\u0441\u0435 \u043f\u0440\u043e\u0448\u043b\u043e \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a")):(be("error"),ge(e.response||"\u041d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")),je(!0),setTimeout((function(){je(!1)}),5e3)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"wrapper"},c.a.createElement(o.a,null),c.a.createElement("div",{className:" content__wrapper content__wrapper_no_margin personal-office"},c.a.createElement(y.a,{timeOut:600}),c.a.createElement("section",{className:"personal-office__info"},c.a.createElement("div",{className:"personal-office__info-picture-block"},c.a.createElement("img",{className:"personal-office__info-avatar",src:K.profile_img||j.a,alt:"personal"})),c.a.createElement("div",{className:"personal-office__info-content-wrapper"},c.a.createElement("div",{className:"personal-office__info-section"},c.a.createElement("p",{className:"personal-office__info-name"},K.name_surname),c.a.createElement("p",{className:"personal-office__info-text"},"E-mail: \xa0",c.a.createElement("span",{className:"personal-office__info-text-content"},K.email)),c.a.createElement("p",{className:"personal-office__info-text"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: \xa0",c.a.createElement("span",{className:"personal-office__info-text-content"},K.phone)),c.a.createElement(l.b,{to:"/change_personal_data",className:"link"},c.a.createElement("button",{className:"button personal-office__info-edit"},c.a.createElement("img",{src:G.a,alt:"pencil",className:"personal-office__info-edit-image"}),"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")))),c.a.createElement("div",{className:"personal-office__info-points"},c.a.createElement("div",{className:"personal-office__info-points-container"},c.a.createElement("p",{className:"personal-office__info-points-value"},K.points)),K.points&&K.points>=100?c.a.createElement("div",{className:"personal-office__info-points-achievements"},c.a.createElement("div",{className:"personal-office__info-points-achievements-images"},K.points&&K.points>=100?c.a.createElement("img",{className:"personal-office__info-points-achievements-image",src:B.a,alt:"achievement"}):null,K.points&&K.points>=250?c.a.createElement("img",{className:"personal-office__info-points-achievements-image",src:I.a,alt:"achievement"}):null,K.points&&K.points>=500?c.a.createElement("img",{className:"personal-office__info-points-achievements-image",src:T.a,alt:"achievement"}):null),c.a.createElement("div",{className:"personal-office__info-points-achievements-values"},K.points&&K.points>=100?c.a.createElement("span",{className:"personal-office__info-points-achievements-value"},100):null,K.points&&K.points>=250?c.a.createElement("span",{className:"personal-office__info-points-achievements-value"},250):null,K.points&&K.points>=500?c.a.createElement("span",{className:"personal-office__info-points-achievements-value"},500):null)):null)),c.a.createElement("section",{className:"personal-office__buttons"},c.a.createElement("div",{className:"personal-office__buttons-section "},c.a.createElement("p",{id:"personal-office__calendar",className:"personal-office__buttons-section-btn personal-office__buttons-section-btn_active",onClick:function(){var e=document.getElementsByClassName("personal-office__calendar")[0],t=document.getElementsByClassName("personal-office__stat")[0],a=document.getElementById("personal-office__stat"),n=document.getElementById("personal-office__calendar");t.style.display="none",e.style.display="block",n.className="personal-office__buttons-section-btn personal-office__buttons-section-btn_active",a.className="personal-office__buttons-section-btn personal-office__buttons-section-btn_non_active"}},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c")),c.a.createElement("div",{className:"personal-office__buttons-section"},c.a.createElement("p",{id:"personal-office__stat",className:"personal-office__buttons-section-btn personal-office__buttons-section-btn_non_active",onClick:function(){var e=document.getElementsByClassName("personal-office__calendar")[0],t=document.getElementsByClassName("personal-office__stat")[0],a=document.getElementById("personal-office__stat"),n=document.getElementById("personal-office__calendar");e.style.display="none",t.style.display="block",n.className="personal-office__buttons-section-btn personal-office__buttons-section-btn_non_active",a.className="personal-office__buttons-section-btn personal-office__buttons-section-btn_active"}},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"))),c.a.createElement("section",{className:"personal-office__calendar"},c.a.createElement(L.a,{plugins:[R.b,P.a,J.a,W.a,z.a,Y.a],height:"610px",locale:"ru",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialView:"dayGridMonth",events:_,editable:!0,firstDay:1,dayMaxEventRows:!0,selectable:!0,selectMirror:!0,select:function(e){E(e.start),ce()},eventDrop:oe,eventResize:oe,eventClick:function(e){var t=Number(e.event._def.publicId),a=_.filter((function(e){return e.id===t}));r(a[0]),fe()},slotDuration:"00:15:00"})),c.a.createElement("section",{className:"personal-office__stat"},c.a.createElement("div",{className:"personal-office__stat-wrapper"},c.a.createElement("div",{className:"personal-office__stat-doughnut"},c.a.createElement(F.b,{data:ee,width:100,height:75,options:{responsive:!0,maintainAspectRatio:!0,legend:{display:!1}}})),c.a.createElement("div",{className:"personal-office__stat-content"},c.a.createElement("div",{className:"personal-office__stat-buttons"},c.a.createElement("div",{className:"personal-office__stat-buttons-content"},c.a.createElement("input",{type:"button",value:"\u041d\u0435\u0434\u0435\u043b\u044f",onClick:function(){return S("week")},className:"week"===x?"button personal-office__stat-button personal-office__stat-button_active":"button personal-office__stat-button"}),c.a.createElement("input",{type:"button",value:"\u041c\u0435\u0441\u044f\u0446",onClick:function(){return S("month")},className:"month"===x?"button personal-office__stat-button personal-office__stat-button_active":"button personal-office__stat-button"}),c.a.createElement("input",{type:"button",value:"\u0413\u043e\u0434",onClick:function(){return S("year")},className:"year"===x?"button personal-office__stat-button personal-office__stat-button_active":"button personal-office__stat-button"}))),c.a.createElement("div",{className:"personal-office__stat-info"},c.a.createElement("div",{className:"personal-office__stat-info-content"},c.a.createElement("div",{className:"personal-office__stat-info-block"},c.a.createElement("img",{className:"personal-office__stat-info-block-img",src:k.a,alt:"personal stat logo"}),c.a.createElement("p",{className:"personal-office__stat-info-block-text"},"\u0412\u0441\u0435\u0433\u043e"),c.a.createElement("p",{style:{color:"#1070CA"},className:"personal-office__stat-info-block-number"},q.quantity_of_polls)),c.a.createElement("div",{className:"personal-office__stat-info-block"},c.a.createElement("img",{className:"personal-office__stat-info-block-img",src:w.a,alt:"personal stat logo"}),c.a.createElement("p",{className:"personal-office__stat-info-block-text"},"\u041f\u043e\u0441\u0435\u0449\u0435\u043d\u043e"),c.a.createElement("p",{style:{color:"#F7D154"},className:"personal-office__stat-info-block-number"},q.quantity_of_attended_events)),c.a.createElement("div",{className:"personal-office__stat-info-block"},c.a.createElement("img",{className:"personal-office__stat-info-block-img personal-office__stat-info-block-img_small",src:M.a,alt:"personal stat logo"}),c.a.createElement("p",{className:"personal-office__stat-info-block-text"},"\u041f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043e"),c.a.createElement("p",{style:{color:"#EC4C47"},className:"personal-office__stat-info-block-number"},q.quantity_of_missed_events))))))),Oe&&c.a.createElement(h.a,{type:de,text:Ne,onClose:function(){je(!Oe)}}))),re&&c.a.createElement(g,{OpenAlert:Ce,onClose:fe,event:i}),ne&&c.a.createElement(N,{onClose:ce,updateEvents:pe,date:v,OpenAlert:Ce}))}))}}]);
//# sourceMappingURL=6.1661e16d.chunk.js.map